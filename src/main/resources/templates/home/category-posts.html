<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title th:text="${selectedCategory.name}">Category</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>

<div th:replace="fragments/home-navbar :: home-navbar"></div>

<header class="bg-primary py-5 text-white text-center mb-4">
    <h1 th:text="${selectedCategory.name}">Category</h1>
</header>

<div class="container">

    <div class="row" th:if="${posts.size() == 0}">
        <p>No posts found in this category.</p>
    </div>

    <div class="row" th:each="p : ${posts}">
        <div class="col-md-4 mb-4">

            <div class="card shadow-sm h-100">
                <img th:if="${p.imageUrl != null}"
                     class="card-img-top"
                     th:src="${p.imageUrl}"
                     style="height:200px;object-fit:cover"/>

                <div class="card-body">
                    <h5 class="fw-bold" th:text="${p.title}"></h5>

                    <p class="text-muted small">
                        <span th:text="${p.user.username}"></span> |
                        <span th:text="${#temporals.format(p.createdAt, 'dd MMM yyyy')}"></span>
                    </p>

                    <a th:href="@{'/post/' + ${p.id}}"
                       class="btn btn-outline-primary btn-sm">Read</a>
                </div>

            </div>

        </div>
    </div>

</div>

<div th:replace="fragments/home-footer :: home-footer"></div>

</body>
</html>
